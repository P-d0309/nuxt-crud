import{f as V,h as x,i as g,j as r,k as R,r as i,o as w,l as y,b as a,w as o,e as c,t as T,F as U,m as C}from"./entry.8ab6b909.js";const D={__name:"TaskForm",setup(E){const p=V(),t=x({valid:!0,title:null,description:null,id:p.params.id,snackbar:!1,text:null,status:null,isEdit:!1,items:["Pending","Completed","In Progress"],titleRules:[e=>!!e||"Task title is required",e=>e&&e.length<=25||"Name must be less than 25 characters"],descriptionRules:[e=>!!e||"Description is required",e=>e&&e.length>=10||"Description must be grater than 10 characters",e=>e&&e.length<=100||"Description must be less than 100 characters"],statusRules:[e=>!!e||"Status is required"]});g(()=>{t.id&&r.post("/api/posts/list",{id:t.id}).then(e=>{t.isEdit=!0,t.description=e.data.description,t.title=e.data.name,t.status=e.data.status})});const d=R(null),_=async()=>{C();let e=null;const s=await d.value.validate();t.valid=s.valid;const n={name:t.title,description:t.description,status:t.status,id:t.id};t.valid&&(t.isEdit?e=await r.put("/api/posts/update",n):e=await r.post("/api/posts/create",n)),e&&(t.snackbar=!0,t.isEdit?t.text="Task Updated successfully.":(t.text="Task Created successfully.",d.value.reset()))};return(e,s)=>{const n=i("v-text-field"),u=i("v-col"),f=i("v-select"),m=i("v-row"),v=i("v-btn"),k=i("v-form"),b=i("v-snackbar");return w(),y(U,null,[a(k,{ref_key:"add_task_form",ref:d,modelValue:t.valid,"onUpdate:modelValue":s[3]||(s[3]=l=>t.valid=l),"lazy-validation":""},{default:o(()=>[a(m,null,{default:o(()=>[a(u,{sm:"12",md:"6"},{default:o(()=>[a(n,{label:"Task title",modelValue:t.title,"onUpdate:modelValue":s[0]||(s[0]=l=>t.title=l),rules:t.titleRules},null,8,["modelValue","rules"])]),_:1}),a(u,{sm:"12",md:"6"},{default:o(()=>[a(n,{label:"Task description",rules:t.descriptionRules,modelValue:t.description,"onUpdate:modelValue":s[1]||(s[1]=l=>t.description=l)},null,8,["rules","modelValue"])]),_:1}),a(u,{sm:"12",md:"6"},{default:o(()=>[a(f,{items:t.items,label:"Status",modelValue:t.status,"onUpdate:modelValue":s[2]||(s[2]=l=>t.status=l),rules:t.statusRules},null,8,["items","modelValue","rules"])]),_:1})]),_:1}),a(m,null,{default:o(()=>[a(u,{sm:"12",md:"6"},{default:o(()=>[a(v,{type:"button",color:"success",onClick:_},{default:o(()=>[c(" Submit ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(b,{modelValue:t.snackbar,"onUpdate:modelValue":s[4]||(s[4]=l=>t.snackbar=l),timeout:5e3},{default:o(()=>[c(T(t.text),1)]),_:1},8,["modelValue"])],64)}}};export{D as _};
